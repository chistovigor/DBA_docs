ALTER TABLE DBMAN.TRX
 DROP PRIMARY KEY CASCADE;

DROP TABLE DBMAN.TRX CASCADE CONSTRAINTS;

CREATE TABLE DBMAN.TRX
(
  N_TRX            NUMBER(12)                   NOT NULL,
  C_FIID_ISS       VARCHAR2(4 BYTE)             NOT NULL,
  C_FIID_ACQ       VARCHAR2(4 BYTE)             NOT NULL,
  N_TRX_TYPE       NUMBER(3)                    NOT NULL,
  C_NCRD           VARCHAR2(19 BYTE)            NOT NULL,
  D_TRX_ORIG       DATE                         NOT NULL,
  N_MCC            NUMBER(4),
  N_AMT_SRC        NUMBER(12,2)                 NOT NULL,
  N_CUR_SRC        NUMBER(3)                    NOT NULL,
  N_PRD            NUMBER(3),
  N_BIN            NUMBER(11),
  C_NMRC           VARCHAR2(15 BYTE),
  C_NTER           VARCHAR2(10 BYTE),
  C_AUT_CODE       VARCHAR2(6 BYTE),
  C_RETR_REF_NUM   VARCHAR2(12 BYTE),
  C_MRC_NAME       VARCHAR2(40 BYTE),
  C_MRC_CITY       VARCHAR2(13 BYTE),
  C_MRC_CNT        VARCHAR2(3 BYTE),
  C_SRC_FILE_TYPE  VARCHAR2(2 BYTE),
  D_SRC_FILE_DATE  DATE,
  N_SRC_FILE_NUM   NUMBER(2),
  N_SRC_FILE_REC   NUMBER(6),
  CF_TRX_STAT      VARCHAR2(1 BYTE)             NOT NULL,
  C_TRX_CLASS      VARCHAR2(2 BYTE)             NOT NULL,
  N_TRX_GEN        NUMBER(12),
  N_TRX_ORIG       NUMBER(12),
  C_EXP_FILE_NAME  VARCHAR2(15 BYTE),
  D_INS            DATE                         DEFAULT sysdate               NOT NULL,
  C_ISS_CNT        VARCHAR2(3 BYTE),
  C_FIID_TERM      VARCHAR2(4 BYTE)
)
TABLESPACE ALPHA_LARGE_DATA
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          32M
            NEXT             32M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
PARTITION BY RANGE (N_TRX)
(  
  PARTITION Y_1999 VALUES LESS THAN (257573)
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    0
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2000 VALUES LESS THAN (1237229)
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    0
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2001 VALUES LESS THAN (3306648)
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    0
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2002 VALUES LESS THAN (6852127)
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    0
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2003 VALUES LESS THAN (11833638)
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    0
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2004 VALUES LESS THAN (18754477)
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    0
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2005 VALUES LESS THAN (27436648)
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    0
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2006 VALUES LESS THAN (40054908)
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    0
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2007 VALUES LESS THAN (58395424)
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    0
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2008 VALUES LESS THAN (71592590)
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    0
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2009 VALUES LESS THAN (82793022)
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    1
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2010 VALUES LESS THAN (100957173)
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_DATA
    PCTFREE    1
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                NEXT             16M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2012 VALUES LESS THAN (999999999999)
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_LARGE_DATA
    PCTFREE    10
    INITRANS   1
    MAXTRANS   255
    STORAGE    (
                INITIAL          32M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                BUFFER_POOL      DEFAULT
               )
)
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING
ENABLE ROW MOVEMENT;

COMMENT ON TABLE DBMAN.TRX IS 'Транзакции';

COMMENT ON COLUMN DBMAN.TRX.N_TRX IS 'Номер транзакции';

COMMENT ON COLUMN DBMAN.TRX.C_FIID_ISS IS 'Код финансового института в BASE24 эмитента';

COMMENT ON COLUMN DBMAN.TRX.C_FIID_ACQ IS 'Код финансового института в BASE24 эмитента';

COMMENT ON COLUMN DBMAN.TRX.N_TRX_TYPE IS 'Тип транзакции';

COMMENT ON COLUMN DBMAN.TRX.C_NCRD IS 'Номер карты';

COMMENT ON COLUMN DBMAN.TRX.D_TRX_ORIG IS 'Дата операции';

COMMENT ON COLUMN DBMAN.TRX.N_MCC IS 'MCC';

COMMENT ON COLUMN DBMAN.TRX.N_AMT_SRC IS 'Сумма операции';

COMMENT ON COLUMN DBMAN.TRX.N_CUR_SRC IS 'Код валюты операции';

COMMENT ON COLUMN DBMAN.TRX.N_PRD IS 'Код продукта';

COMMENT ON COLUMN DBMAN.TRX.N_BIN IS 'BIN';

COMMENT ON COLUMN DBMAN.TRX.C_NMRC IS 'Номер мерчанта';

COMMENT ON COLUMN DBMAN.TRX.C_NTER IS 'Номер терминала';

COMMENT ON COLUMN DBMAN.TRX.C_AUT_CODE IS 'Код авторизации';

COMMENT ON COLUMN DBMAN.TRX.C_RETR_REF_NUM IS 'Retrieval Reference Number';

COMMENT ON COLUMN DBMAN.TRX.C_MRC_NAME IS 'Название мерчанта (лат)';

COMMENT ON COLUMN DBMAN.TRX.C_MRC_CITY IS 'Город мерчанта';

COMMENT ON COLUMN DBMAN.TRX.C_MRC_CNT IS 'Страна мерчанта';

COMMENT ON COLUMN DBMAN.TRX.C_SRC_FILE_TYPE IS 'Тип исходного файла';

COMMENT ON COLUMN DBMAN.TRX.D_SRC_FILE_DATE IS 'Дата исходного файла';

COMMENT ON COLUMN DBMAN.TRX.N_SRC_FILE_NUM IS 'Номер исходного файла';

COMMENT ON COLUMN DBMAN.TRX.N_SRC_FILE_REC IS 'Номер записи в исходном файле';

COMMENT ON COLUMN DBMAN.TRX.CF_TRX_STAT IS 'Статус транзакции';

COMMENT ON COLUMN DBMAN.TRX.C_TRX_CLASS IS 'Класс транзакции';

COMMENT ON COLUMN DBMAN.TRX.N_TRX_GEN IS 'Внешний номер транзакции';

COMMENT ON COLUMN DBMAN.TRX.N_TRX_ORIG IS 'Номер оригинальной транзакции';

COMMENT ON COLUMN DBMAN.TRX.D_INS IS 'Дата вставки';

COMMENT ON COLUMN DBMAN.TRX.C_ISS_CNT IS 'Страна эмитента';



CREATE INDEX DBMAN.TRX_CRD_I ON DBMAN.TRX
(C_NCRD)
  PCTFREE    10
  INITRANS   2
  MAXTRANS   255
LOCAL (  
  PARTITION Y_1999
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2000
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2001
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2002
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2003
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2004
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2005
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2006
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2007
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2008
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2009
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2010
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2012
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_LARGE_INDEX2
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                BUFFER_POOL      DEFAULT
               )
)
NOPARALLEL
COMPRESS 1;


CREATE INDEX DBMAN.TRX_DINS_I ON DBMAN.TRX
(D_INS)
  PCTFREE    10
  INITRANS   2
  MAXTRANS   255
LOCAL (  
  PARTITION Y_1999
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2000
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2001
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2002
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2003
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2004
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2005
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2006
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2007
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2008
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2009
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2010
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2012
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_LARGE_INDEX2
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                BUFFER_POOL      DEFAULT
               )
)
NOPARALLEL;


CREATE INDEX DBMAN.TRX_D_ORIG_I ON DBMAN.TRX
(D_TRX_ORIG)
  PCTFREE    10
  INITRANS   2
  MAXTRANS   255
  STORAGE    (
              INITIAL          64K
             )
LOCAL (  
  PARTITION Y_1999
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2000
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2001
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2002
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2003
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2004
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2005
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2006
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2007
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2008
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2009
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2010
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2012
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_LARGE_INDEX2
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                BUFFER_POOL      DEFAULT
               )
)
NOPARALLEL;


CREATE BITMAP INDEX DBMAN.TRX_FIID_ACQ_I ON DBMAN.TRX
(C_FIID_ACQ)
  PCTFREE    10
  INITRANS   2
  MAXTRANS   255
LOCAL (  
  PARTITION Y_1999
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2000
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2001
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2002
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2003
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2004
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2005
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2006
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2007
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2008
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2009
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2010
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2012
    LOGGING
    TABLESPACE ALPHA_LARGE_INDEX2
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                BUFFER_POOL      DEFAULT
               )
)
NOPARALLEL;


CREATE BITMAP INDEX DBMAN.TRX_FIID_ISS_I ON DBMAN.TRX
(C_FIID_ISS)
  PCTFREE    10
  INITRANS   2
  MAXTRANS   255
LOCAL (  
  PARTITION Y_1999
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2000
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2001
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2002
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2003
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2004
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2005
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2006
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2007
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2008
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2009
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2010
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2012
    LOGGING
    TABLESPACE ALPHA_LARGE_INDEX2
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                BUFFER_POOL      DEFAULT
               )
)
NOPARALLEL;


CREATE INDEX DBMAN.TRX_NMRC_I ON DBMAN.TRX
(C_NMRC)
  PCTFREE    10
  INITRANS   2
  MAXTRANS   255
LOCAL (  
  PARTITION Y_1999
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2000
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2001
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2002
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2003
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2004
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2005
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2006
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2007
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2008
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2009
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2010
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2012
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_LARGE_INDEX2
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                BUFFER_POOL      DEFAULT
               )
)
NOPARALLEL
COMPRESS 1;


CREATE UNIQUE INDEX DBMAN.TRX_PK ON DBMAN.TRX
(N_TRX)
  PCTFREE    10
  INITRANS   2
  MAXTRANS   255
LOCAL (  
  PARTITION Y_1999
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2000
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2001
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2002
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2003
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2004
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2005
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2006
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2007
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2008
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2009
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2010
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2012
    LOGGING
    NOCOMPRESS 
    TABLESPACE ALPHA_LARGE_INDEX2
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                BUFFER_POOL      DEFAULT
               )
)
NOPARALLEL;


CREATE INDEX DBMAN.TRX_SRC_FILE_I ON DBMAN.TRX
(D_SRC_FILE_DATE)
  PCTFREE    10
  INITRANS   2
  MAXTRANS   255
LOCAL (  
  PARTITION Y_1999
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2000
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2001
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2002
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2003
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2004
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2005
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          8M
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2006
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2007
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2008
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2009
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2010
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2012
    LOGGING
    COMPRESS 
    TABLESPACE ALPHA_LARGE_INDEX2
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                BUFFER_POOL      DEFAULT
               )
)
NOPARALLEL
COMPRESS 1;


CREATE INDEX DBMAN.TRX_TRX_FK_I ON DBMAN.TRX
(N_TRX_ORIG)
NOLOGGING
TABLESPACE ALPHA_MEDIUM_INDEX
PCTFREE    1
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          176K
            NEXT             512K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE BITMAP INDEX DBMAN.TRX_TRX_TYPE_I ON DBMAN.TRX
(N_TRX_TYPE)
  PCTFREE    10
  INITRANS   2
  MAXTRANS   255
LOCAL (  
  PARTITION Y_1999
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2000
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2001
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2002
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2003
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2004
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2005
    LOGGING
    TABLESPACE ALPHA_MEDIUM_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2006
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2007
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2008
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2009
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2010
    LOGGING
    TABLESPACE ALPHA_ARC_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                NEXT             8M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
                BUFFER_POOL      DEFAULT
               ),  
  PARTITION Y_2012
    LOGGING
    TABLESPACE ALPHA_LARGE_INDEX2
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          512K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                BUFFER_POOL      DEFAULT
               )
)
NOPARALLEL;


CREATE UNIQUE INDEX DBMAN.UK_TRX_GEN ON DBMAN.TRX
(N_TRX_GEN)
NOLOGGING
TABLESPACE ALPHA_LARGE_INDEX2
PCTFREE    1
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          128M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


DROP PUBLIC SYNONYM TRX;

CREATE OR REPLACE PUBLIC SYNONYM TRX FOR DBMAN.TRX;


ALTER TABLE DBMAN.TRX ADD (
  CONSTRAINT TRX_CUR_SRC_643_CK
  CHECK (n_cur_src <> 643),
  CONSTRAINT TRX_ISS_CNT_810_CK
  CHECK (c_iss_cnt <> '810'),
  CONSTRAINT TRX_MRC_CNT_810_CK
  CHECK (c_mrc_cnt <> '810'),
  CONSTRAINT TRX_TRX_ORIG_CK
  CHECK (N_TRX <> N_TRX_ORIG
),
  CONSTRAINT TRX_PK
  PRIMARY KEY
  (N_TRX)
  USING INDEX LOCAL,
  CONSTRAINT UK_TRX_GEN
  UNIQUE (N_TRX_GEN)
  USING INDEX DBMAN.UK_TRX_GEN);

ALTER TABLE DBMAN.TRX ADD (
  CONSTRAINT TRX_TRX_FK 
  FOREIGN KEY (N_TRX_ORIG) 
  REFERENCES DBMAN.TRX (N_TRX));

GRANT SELECT ON DBMAN.TRX TO ACQ_STAT;

GRANT REFERENCES, SELECT ON DBMAN.TRX TO AF;

GRANT REFERENCES, SELECT ON DBMAN.TRX TO ALTAIR;

GRANT SELECT ON DBMAN.TRX TO CLIENT_INFO;

GRANT SELECT ON DBMAN.TRX TO FINANCE;

GRANT SELECT ON DBMAN.TRX TO FINANCE_RO;

GRANT SELECT ON DBMAN.TRX TO ISSUER;

GRANT SELECT ON DBMAN.TRX TO ISS_STATEMENT;

GRANT SELECT ON DBMAN.TRX TO RUAKGV8;

GRANT SELECT ON DBMAN.TRX TO SEZ_VIEW;

GRANT SELECT ON DBMAN.TRX TO TRXVIEW;
